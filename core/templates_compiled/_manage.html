from __future__ import division
from jinja2.runtime import LoopContext, TemplateReference, Macro, Markup, TemplateRuntimeError, missing, concat, escape, markup_join, unicode_join, to_string, TemplateNotFound
name = '/_manage.html'

def root(context, environment=environment):
    parent_template = None
    if 0: yield None
    parent_template = environment.get_template('_base.html', '/_manage.html')
    for name, parent_block in parent_template.blocks.iteritems():
        context.blocks.setdefault(name, []).append(parent_block)
    for event in parent_template.root_render_func(context):
        yield event

def block_sidebar(context, environment=environment):
    l_notebooks = context.resolve('notebooks')
    l_NOTEBOOK_LIMIT = context.resolve('NOTEBOOK_LIMIT')
    l_notebook_counter = context.resolve('notebook_counter')
    if 0: yield None
    yield u'\n  '
    if l_notebook_counter < l_NOTEBOOK_LIMIT:
        if 0: yield None
        yield u'\n    <input type="button" value="\u65b0\u3057\u3044\u30ce\u30fc\u30c8\u3092\u8ffd\u52a0" onClick="new_notebook()" />\n  '
    else:
        if 0: yield None
        yield u'\n    <p>%s\u518c\u4ee5\u4e0a\u306e\u30ce\u30fc\u30c8\u306f\u4f5c\u308c\u307e\u305b\u3093\u3002</p>\n  ' % (
            escape(l_NOTEBOOK_LIMIT), 
        )
    yield u'\n\n  '
    if l_notebook_counter:
        if 0: yield None
        yield u'\n    <ul>\n    '
        l_notebook = missing
        for l_notebook in l_notebooks:
            if 0: yield None
            yield u'\n      '
            if environment.getattr(l_notebook, 'is_main'):
                if 0: yield None
                yield u'\n        <li>\n        <a href="/receipt?key=%s">\n        %s *\n        </a>\n        </li>\n      ' % (
                    escape(context.call(environment.getattr(context.call(environment.getattr(l_notebook, 'key')), 'id'))), 
                    escape(environment.getattr(l_notebook, 'name')), 
                )
            else:
                if 0: yield None
                yield u'\n        <li>\n        <a href="/receipt?key=%s">\n        %s\n        </a>\n        </li>\n      ' % (
                    escape(context.call(environment.getattr(context.call(environment.getattr(l_notebook, 'key')), 'id'))), 
                    escape(environment.getattr(l_notebook, 'name')), 
                )
            yield u'\n    '
        l_notebook = missing
        yield u'\n    </ul>\n  '
    else:
        if 0: yield None
        yield u'\n    <p>\u307e\u3060\u30ce\u30fc\u30c8\u306f\u4f5c\u3089\u308c\u3066\u3044\u307e\u305b\u3093\u3002</p>\n  '
    yield u'\n\n'

def block_js(context, environment=environment):
    if 0: yield None
    yield u'\n  function new_notebook() {\n    location.href="new_notebook";\n  }\n'

blocks = {'sidebar': block_sidebar, 'js': block_js}
debug_info = '1=8&7=14&8=20&10=25&11=26&12=28&14=29&16=33&17=36&19=39&20=40&23=44&25=45&26=46&29=48&30=50&32=53&34=54&2=56'