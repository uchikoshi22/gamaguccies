from __future__ import division
from jinja2.runtime import LoopContext, TemplateReference, Macro, Markup, TemplateRuntimeError, missing, concat, escape, markup_join, unicode_join, to_string, TemplateNotFound
name = '/item.html'

def root(context, environment=environment):
    parent_template = None
    if 0: yield None
    parent_template = environment.get_template('_notebook.html', '/item.html')
    for name, parent_block in parent_template.blocks.iteritems():
        context.blocks.setdefault(name, []).append(parent_block)
    for event in parent_template.root_render_func(context):
        yield event

def block_content(context, environment=environment):
    l_form = context.resolve('form')
    l_items = context.resolve('items')
    l_receipt = context.resolve('receipt')
    t_1 = environment.filters['safe']
    if 0: yield None
    yield u'\n  <table border="1">\n  <tr>\n    <th>\u65e5\u4ed8</th><td>%s</td>\n    <th>\u91d1\u984d</th><td>\uffe5%s</td>\n  </tr>\n  <tr>\n    <th>\u5834\u6240</th><td>%s</td>\n    <td colspan="2">&nbsp;</td>\n  </tr>\n  <tr>\n    <th>\u30e1\u30e2</th><td colspan="3">%s</td>\n  </tr>\n  </table>\n\n  <br />\n  <hr />\n\n  ' % (
        escape(environment.getattr(l_receipt, 'date')), 
        escape(environment.getattr(l_receipt, 'sum')), 
        escape(environment.getattr(l_receipt, 'place')), 
        escape(environment.getattr(l_receipt, 'memo')), 
    )
    def macro():
        t_2 = []
        l_form = context.resolve('form')
        pass
        t_2.extend((
            u'\n  <div class="fieldWrapper">\n  <input type="hidden" name="key" value="', 
            escape(context.call(environment.getattr(context.call(environment.getattr(l_receipt, 'key')), 'id'))), 
            u'" />\n  </div>\n  <div class="fieldWrapper">\n  <p>\u30ec\u30b7\u30fc\u30c8\u306e\u5185\u8a33\u306e\u767b\u9332</p>\n  </div>\n  <div class="fieldWrapper">\n  <p>', 
            escape(t_1(context.call(environment.getattr(environment.getitem(l_form, 'name'), 'label'), class_='Name'))), 
            u'</p>\n  <p>', 
            escape(t_1(context.call(environment.getitem(l_form, 'name')))), 
            u'</p>\n  </div>\n  <div class="fieldWrapper">\n  <p>', 
            escape(t_1(context.call(environment.getattr(environment.getitem(l_form, 'unit_price'), 'label'), class_='UnitPrice'))), 
            u'</p>\n  <p>', 
            escape(t_1(context.call(environment.getitem(l_form, 'unit_price')))), 
            u'</p>\n  </div>\n  <div class="fieldWrapper">\n  <p>', 
            escape(t_1(context.call(environment.getattr(environment.getitem(l_form, 'number'), 'label'), class_='Number'))), 
            u'</p>\n  <p>', 
            escape(t_1(context.call(environment.getitem(l_form, 'number')))), 
            u'</p>\n  </div>\n  <div class="fieldWrapper">\n  <p>', 
            escape(t_1(context.call(environment.getattr(environment.getitem(l_form, 'subtotal'), 'label'), class_='Subtotal'))), 
            u'</p>\n  <p>', 
            escape(t_1(context.call(environment.getitem(l_form, 'subtotal')))), 
            u'</p>\n  </div>\n  <div id="category">\n  <div class="fieldWrapper">\n  <p>', 
            escape(t_1(context.call(environment.getattr(environment.getitem(l_form, 'category'), 'label'), class_='Category'))), 
            u'\n     <a href="javascript:openwin()" class="ref">\u203b\u53c2\u7167</a>\n  </p>\n  <p>', 
            escape(t_1(context.call(environment.getitem(l_form, 'category')))), 
            u'</p>\n  </div>\n  </div>\n  <div class="fieldWrapper">\n  <p>', 
            escape(t_1(context.call(environment.getattr(environment.getitem(l_form, 'memo'), 'label'), class_='Memo'))), 
            u'</p>\n  <p>', 
            escape(t_1(context.call(environment.getitem(l_form, 'memo')))), 
            u'</p>\n  </div>\n  ', 
            escape(t_1(context.call(environment.getattr(l_form, 'default_actions'), label=u'\u5185\u8a33\u3092\u767b\u9332'))), 
            u'\n  ', 
        ))
        return Markup(concat(t_2))
    caller = Macro(environment, macro, None, (), (), False, False, False)
    yield context.call(l_form, caller=caller)
    yield u'\n\n  '
    if l_items:
        if 0: yield None
        yield u'\n    <br />\n    <hr />\n    <table>\n      <tr>\n        <th>\u5546\u54c1\u540d</th><th>\u5358\u4fa1</th><th>\u500b\u6570</th><th>\u5c0f\u8a08</th>\n        <th>\u5546\u54c1\u5206\u985e</th>\n      </tr>\n    '
        l_item = missing
        for l_item in l_items:
            if 0: yield None
            yield u'\n      <tr>\n        <td>%s</td>\n        <td>\uffe5%s</td>\n        <td>%s</td>\n        <td>\uffe5%s</td>\n        <td>%s</td>\n      </tr>\n    ' % (
                escape(environment.getattr(l_item, 'name')), 
                escape(environment.getattr(l_item, 'unit_price')), 
                escape(environment.getattr(l_item, 'number')), 
                escape(environment.getattr(l_item, 'subtotal')), 
                escape(environment.getattr(l_item, 'category')), 
            )
        l_item = missing
        yield u'\n    </table>\n  '
    else:
        if 0: yield None
        yield u'\n    <p>\u30ec\u30b7\u30fc\u30c8\u306e\u5546\u54c1\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u305b\u3093</p>\n  '
    yield u'\n\n\n'

def block_js(context, environment=environment):
    if 0: yield None
    yield u"\n<!--\nfunction openwin() {\n  window.open('./list_ref_category', '', 'width=500, height=400');\n}\n-->\n"

blocks = {'content': block_content, 'js': block_js}
debug_info = '1=8&9=14&12=21&13=22&16=23&20=24&27=26&29=32&35=34&36=36&39=38&40=40&43=42&44=44&47=46&48=48&52=50&55=52&59=54&60=56&62=58&27=63&63=64&65=65&73=69&75=72&76=73&77=74&78=75&79=76&81=79&83=82&85=83&2=85'